<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>jQuery+CSS3指针时钟特效</title>
<style type="text/css">
  html, body {height:100%; overflow:hidden;}

  body {
	background: #FFCCFF; 
   }
  
  /*钟表外边框*/
  #clock {
	height: 460px;
	position: relative;
	width: 460px;
	margin:10% auto;
	border-radius:50%;
	/*在 CSS3 中，border-radius 属性用于创建圆角，这里以百分比定义圆角的形状*/
	/*box-shadow:25px 40px 100px rgba(2, 2, 2, 0.7);*/
	/*在 CSS3 中，box-shadow 用于向方框添加阴影，box-shadow: h-shadow v-shadow blur spread color 	inset;h-shadow必需，水平阴影的位置，允许负值。v-shadow 必需，垂直阴影的位置，允许负值 	blur可选，模糊距离。 spread可选，阴影的尺寸。color可选，阴影的颜色。inset可选，将外部阴影 (outset) 改为内部阴影。*/
  }
  
  /*时针分针秒针绝对定位*/
  #clock div {
	position: absolute;
	left:50%;
  }
  
 /* #clock img[src*="second"] {
	transition: transform 600000s linear 1s;*/
	/*transition-property 规定应用过渡的 CSS 属性的名称/transition-duration 定义过渡效果花费的时间。默认是 0/transition-timing-function 规定过渡效果的时间曲线。默认是 "ease"，linear ：规定以相同速度开始至结束的过渡效果（等于 cubic-bezier(0,0,1,1)）/transition-delay 规定过渡效果何时开始。默认是 0*/
  /*}*/
  /*[attribute*=value] 	a[src*="abc"] 	选择其 src 属性中包含 "abc" 子串的每个 <a> 元素。*/
  
 /* #clock:target img[src*="second"] {
	transform: rotate(3600000deg);
  }*/
  
 /* #clock img[src*="minute"] {
	transition: transform 360000s linear 0s;
  }
  
  #clock:target img[src*="minute"] {
	transform: rotate(36000deg);
  }
  
  #clock img[src*="hour"] {
	transition: transform 216000s linear 0s;
  }
  
  #clock:target img[src*="hour"] {
	transform: rotate(360deg);
  }*/

		.clock1 {
	background:#383838 url("images/clock1.png") no-repeat;
  } 

		.clock2 {
	background:#383838 url("images/clock2.png") no-repeat;
  } 

		.clock3 {
	background:#383838 url("images/clock3.png") no-repeat;
  } 

		.clock4 {
	background:#383838 url("images/clock4.png") no-repeat;
  } 

		.clock5 {
	background:#383838 url("images/clock5.png") no-repeat;
  } 

		.clock6 {
	background:#383838 url("images/clock6.png") no-repeat;
  } 

		.clock7 {
	background:#383838 url("images/clock7.png") no-repeat;      } 

		.clock8 {
	background:#383838 url("images/clock8.png") no-repeat;
  } 

		.clock9 {
	background:#383838 url("images/clock9.png") no-repeat;
  } 

		.clock10 {
	background:#383838 url("images/clock10.png") no-repeat;
  } 

		.clock11 {
	background:#383838 url("images/clock11.png") no-repeat;
  } 

		.clock12 {
	background:#383838 url("images/clock12.png") no-repeat;
  } 

		.clock13 {
	background:#383838 url("images/clock1.png") no-repeat;
  } 

		.clock14 {
	background:#383838 url("images/clock2.png") no-repeat;
  } 

		.clock15 {
	background:#383838 url("images/clock3.png") no-repeat;
  } 

		.clock16 {
	background:#383838 url("images/clock4.png") no-repeat;
  } 

		.clock17 {
	background:#383838 url("images/clock5.png") no-repeat;
  } 

		.clock18 {
	background:#383838 url("images/clock6.png") no-repeat;
  } 

		.clock19 {
	background:#383838 url("images/clock7.png") no-repeat;      } 

		.clock20 {
	background:#383838 url("images/clock8.png") no-repeat;
  } 

		.clock21 {
	background:#383838 url("images/clock9.png") no-repeat;
  } 

		.clock22 {
	background:#383838 url("images/clock10.png") no-repeat;
  } 

		.clock23 {
	background:#383838 url("images/clock11.png") no-repeat;
  } 

		.clock0 {
	background:#383838 url("images/clock12.png") no-repeat;
  } 

</style>

</head>
<body>

<div id="clock">
  <div id="hour" style="transform: rotate(56deg);"><img src="images/hour.png"></div>
  <!-- CSS3属性，transform:rotate(angle) 	定义 2D 旋转，在参数中规定角度。 -->
  <div id="minute" style="transform: rotate(312deg);"><img src="images/minute.png"></div>
  <div id="second" style="transform: rotate(6deg);"><img src="images/second.png"></div>
  <!-- 时针分针秒针 -->
</div>

<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script> 
<script type="text/javascript">function Clock_dg(prop) {
	var angle = 360/60,
		date = new Date();
		var h = date.getHours();//getHours() 方法可返回时间的小时字段。
		if(h > 12) {
			h = h - 12;
		}
	
		hour = h;
		minute = date.getMinutes(),
		second = date.getSeconds(),
		hourAngle = (360/12) * hour + (360/(12*60)) * minute;
	
		$('#minute')[0].style[prop] = 'rotate('+angle * minute+'deg)';//分针移动
		$('#second')[0].style[prop] = 'rotate('+angle * second+'deg)';//秒针移动
		$('#hour')[0].style[prop] = 'rotate('+hourAngle+'deg)';//时针移动
	    $('#clock').addClass('clock'+h);//addClass() 方法向被选元素添加一个或多个类
}
	

$(function(){        
// 	-ms-transform:rotate(7deg); 	/* IE 9 */
// -moz-transform:rotate(7deg); 	/* Firefox */
// -webkit-transform:rotate(7deg); /* Safari 和 Chrome */
// -o-transform:rotate(7deg); 	/* Opera */
	var props = 'transform WebkitTransform MozTransform OTransform msTransform'.split(' '),
		prop,
		el = document.createElement('div');//createElement() 方法可创建元素节点。
		// split() 方法用于把一个字符串分割成字符串数组
	
	for(var i = 0, l = props.length; i < l; i++) {
		if(typeof el.style[props[i]] !== "undefined") {
			prop = props[i];//typeof 运算符把类型信息当作字符串返回，typeof 是一个一元运算，放在一个运算数之前，运算数可以是任意类型。
			break;
		}
	}
	setInterval(function(){
		Clock_dg(prop)
	},100);
});
</script>


</body>
</html>